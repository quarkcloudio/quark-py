import{F as O,m as j,j as K}from"./pro-form-field.vue_vue_type_script_setup_true_lang-Dd1VvP6H.js";import{d as w,a as g,bI as C,b as u,o as m,e,x as S,bJ as P,bK as V,bL as U,bM as W,ah as Z,ai as D,bN as H,f as a,w as p,bO as J,t as _,h as s,$ as f,bP as Q,bQ as q,a6 as X,bR as Y,I as ee,bp as te,c as oe,b2 as se,g as b,B as ne,bE as ae}from"./index-BUbJm6vx.js";import{a as le,C as ie}from"./index-q5WNHew0.js";import"./pro-form-editor-BAWJdI4N.js";const re={class:"absolute-lt z-1 size-full overflow-hidden"},ce={class:"absolute -right-300px -top-900px lt-sm:-right-100px lt-sm:-top-1170px"},pe={height:"1337",width:"1337"},me={id:"linearGradient-2",x1:"0.79",y1:"0.62",x2:"0.21",y2:"0.86"},de=["stop-color"],ue=["stop-color"],he={class:"absolute -bottom-400px -left-200px lt-sm:-bottom-760px lt-sm:-left-100px"},_e={height:"896",width:"967.8852157128662"},fe={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},ge=["stop-color"],xe=["stop-color"],Ce=w({__name:"wave-bg",props:{themeColor:{}},setup(c){const l=c,t=g(()=>C(l.themeColor,3)),o=g(()=>C(l.themeColor,6));return(v,n)=>(m(),u("div",re,[e("div",ce,[(m(),u("svg",pe,[e("defs",null,[n[0]||(n[0]=e("path",{id:"path-1",opacity:"1","fill-rule":"evenodd",d:"M1337,668.5 C1337,1037.455193874239 1037.455193874239,1337 668.5,1337 C523.6725684305388,1337 337,1236 370.50000000000006,1094 C434.03835568300906,824.6732385973953 6.906089672974592e-14,892.6277623047779 0,668.5000000000001 C0,299.5448061257611 299.5448061257609,1.1368683772161603e-13 668.4999999999999,0 C1037.455193874239,0 1337,299.544806125761 1337,668.5Z"},null,-1)),e("linearGradient",me,[e("stop",{offset:"0","stop-color":t.value,"stop-opacity":"1"},null,8,de),e("stop",{offset:"1","stop-color":o.value,"stop-opacity":"1"},null,8,ue)])]),n[1]||(n[1]=e("g",{opacity:"1"},[e("use",{"xlink:href":"#path-1",fill:"url(#linearGradient-2)","fill-opacity":"1"})],-1))]))]),e("div",he,[(m(),u("svg",_e,[e("defs",null,[n[2]||(n[2]=e("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1)),e("linearGradient",fe,[e("stop",{offset:"0","stop-color":o.value,"stop-opacity":"1"},null,8,ge),e("stop",{offset:"1","stop-color":t.value,"stop-opacity":"1"},null,8,xe)])]),n[3]||(n[3]=e("g",{opacity:"1"},[e("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1))]))])]))}});function ve(){const c=S(null);async function l(){var o;await((o=c.value)==null?void 0:o.validate())}function t(){var o;(o=c.value)==null||o.resetFields()}return{formRef:c,validate:l,resetFields:t}}const ye={class:"w-400px lt-sm:w-300px"},be={class:"flex-y-center justify-between"},we={class:"text-28px text-primary font-500 lt-sm:text-22px"},Se={class:"i-flex-col"},ke={class:"pt-24px"},$e={class:"text-18px text-primary font-medium"},Ae={class:"animation-slide-in-left pt-24px"},Le={class:"flex-y-center justify-between"},ze=w({name:"login",__name:"index",setup(c){const l=P(),t=V(),o=U(),{formRef:v,validate:n}=ve(),{getEngineImageCaptchaRef:k}=K(),$=g(()=>t.darkMode?C(t.themeColor,7):t.themeColor),A=g(()=>{const i="#ffffff",h=t.darkMode?.5:.2;return W(i,t.themeColor,h)}),x=S({loginApi:"",userInfoApi:"",userRoutesApi:""}),d=Z({});D(async()=>{const{data:i,error:h}=await H();h||(x.value=i,o.setAuthComponent(i))});async function y(){var i;await n(),(i=k())==null||i.refreshCaptcha(),await o.login(d)}return(i,h)=>{const L=Ce,F=J,B=Q,M=q,R=j,z=se,T=ne,G=le,E=O,I=ie;return m(),u("div",{class:"relative size-full flex-center",style:ae({backgroundColor:A.value})},[a(L,{"theme-color":$.value},null,8,["theme-color"]),a(I,{class:"relative z-4"},{default:p(()=>[e("div",ye,[e("header",be,[a(F,{class:"text-64px text-primary lt-sm:text-48px"}),e("h3",we,_(x.value.title??s(f)("system.title")),1),e("div",Se,[a(B,{"theme-schema":s(t).themeScheme,"show-tooltip":!1,class:"text-20px lt-sm:text-18px",onSwitch:s(t).toggleThemeScheme},null,8,["theme-schema","onSwitch"]),a(M,{lang:s(l).locale,"lang-options":s(l).localeOptions,"show-tooltip":!1,onChangeLang:s(l).changeLocale},null,8,["lang","lang-options","onChangeLang"])])]),e("main",ke,[e("h3",$e,_(s(f)("page.login.pwdLogin.title")),1),e("div",Ae,[a(X,{name:s(t).page.animateMode,mode:"out-in",appear:""},{default:p(()=>[a(E,{ref_key:"formRef",ref:v,model:d,onKeyup:Y(y,["enter"])},{default:p(()=>[(m(!0),u(ee,null,te(x.value.body,r=>(m(),oe(R,{key:r.componentkey,value:d[r.name],"onUpdate:value":N=>d[r.name]=N,model:d,component:r.component,name:r.name,label:r.label,rules:r.frontendRules,"field-props":{...r}},null,8,["value","onUpdate:value","model","component","name","label","rules","field-props"]))),128)),a(G,{direction:"vertical",size:"large",class:"w-full"},{default:p(()=>[e("div",Le,[a(z,null,{default:p(()=>[b(_(s(f)("page.login.pwdLogin.rememberMe")),1)]),_:1})]),a(T,{type:"primary",block:"",size:"large",shape:"round",loading:s(o).loginLoading,onClick:y},{default:p(()=>[b(_(s(f)("common.confirm")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["name"])])])])]),_:1})],4)}}});export{ze as default};
